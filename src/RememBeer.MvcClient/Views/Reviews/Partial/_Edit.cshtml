@using RememBeer.MvcClient.Helpers
@using RememBeer.MvcClient.Models.Reviews
@model SingleReviewViewModel

<div class="card horizontal" id="review-@Model.Id">
    @using (Ajax.BeginForm("Index", "Reviews", new AjaxOptions()
                                               {
                                                   HttpMethod = "PUT",
                                                   UpdateTargetId = "review-" + Model.Id,
                                                   LoadingElementId = "loading",
                                                   OnFailure = "handleAjaxError",
                                                   InsertionMode = InsertionMode.ReplaceWith
                                               }))
    {
        <div class="row">
            <div class="col s12 l4 center-align">
                <div class="">
                    <img class="responsive-img thumbnail" src="@Model.ImgUrl" alt="Review image">
                </div>
            </div>
            <div class="col s12 l8">
                @Html.HiddenFor(x => x.Id)
                @Html.AntiForgeryToken()
                <div class="card-content review-body">
                    <div class="card-title">
                        <h5>
                            @Html.DisplayFor(x => x.BeerName)
                            <small>@Html.DisplayFor(x => x.BeerBeerTypeType) by <em>@Html.DisplayFor(x => x.BeerBreweryName)</em></small>
                            <small class="right">@Html.DisplayFor(x => x.CreatedAt)</small>
                        </h5>
                    </div>
                    <p>
                        <div class="input-field">
                            <i class="prefix material-icons">&#xE0C8;</i>
                            @Html.LabelFor(x => x.Place)
                            @Html.TextBoxFor(m => m.Place)
                            @Html.ValidationMessageFor(m => m.Place)
                        </div>
                        <div class="input-field">
                            @Html.LabelFor(x => x.Description)
                            @Html.TextAreaFor(m => m.Description, new { @class = "materialize-textarea" })
                            @Html.ValidationMessageFor(m => m.Description)
                        </div>
                    </p>
                    <ul class="list-inline flow-text">
                        <li>
                            <strong>
                                <div class="input-field col s3">
                                    @Html.DropDownListFor(m => m.Overall, new SelectList(EditReviewBindingModel.ScoreValues, "Value", "Text"))
                                    @Html.LabelFor(m => m.Overall)
                                </div>
                            </strong>
                        </li>
                        <li>
                            <strong>
                                <div class="input-field col s3">
                                    @Html.DropDownListFor(m => m.Taste, new SelectList(EditReviewBindingModel.ScoreValues, "Value", "Text"))
                                    @Html.LabelFor(m => m.Taste)
                                </div>
                            </strong>
                        </li>
                        <li>
                            <strong>
                                <div class="input-field col s3">
                                    @Html.DropDownListFor(m => m.Look, new SelectList(EditReviewBindingModel.ScoreValues, "Value", "Text"))
                                    @Html.LabelFor(m => m.Look)
                                </div>
                            </strong>
                        </li>
                        <li>
                            <strong>
                                <div class="input-field col s3">
                                    @Html.DropDownListFor(m => m.Smell, new SelectList(EditReviewBindingModel.ScoreValues, "Value", "Text"))
                                    @Html.LabelFor(m => m.Smell)
                                </div>
                            </strong>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card-action clearfix">
                <input type="submit" class="btn btn-flat green darken-1 white-text"/>
                
                @Ajax.PageRefreshActionLink("Cancel", "btn btn-flat amber darken-2 white-text", "My", "Reviews", new { page = Request.QueryString["page"] })
            </div>
        </div>
    }
</div>